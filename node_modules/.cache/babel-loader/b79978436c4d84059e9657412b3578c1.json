{"ast":null,"code":"import _classCallCheck from\"/Users/ffaiku/opt/FH/4 Semester/Verteilte Systeme/Project/smart-home-ui/smart-home-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ffaiku/opt/FH/4 Semester/Verteilte Systeme/Project/smart-home-ui/smart-home-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ffaiku/opt/FH/4 Semester/Verteilte Systeme/Project/smart-home-ui/smart-home-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ffaiku/opt/FH/4 Semester/Verteilte Systeme/Project/smart-home-ui/smart-home-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Children,cloneElement}from'react';var Accordion=/*#__PURE__*/function(_Component){_inherits(Accordion,_Component);var _super=_createSuper(Accordion);function Accordion(){var _this;_classCallCheck(this,Accordion);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activeTab:-1};_this.handleAccordionOnClick=function(index){_this.setState(function(prev){return{activeTab:prev.activeTab===index?-1:index};},function(){_this[\"accordionItem\".concat(index)].scrollIntoView();});};return _this;}_createClass(Accordion,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.name!==this.props.name){this.setState({activeTab:-1});}}},{key:\"createDiv\",value:function createDiv(){var _this2=this;var _this$props=this.props,id=_this$props.id,children=_this$props.children,allowMultipleOpen=_this$props.allowMultipleOpen,activeTab=_this$props.activeTab,onActiveTabChange=_this$props.onActiveTabChange;return Children.map(children,function(children,index){return cloneElement(children,{index:index,name:id,key:index,activeTab:onActiveTabChange?activeTab:_this2.state.activeTab,allowMultipleOpen:allowMultipleOpen,handleAccordionOnClick:onActiveTabChange||_this2.handleAccordionOnClick.bind(_this2,index),ref:function ref(e){_this2[\"accordionItem\".concat(index)]=e;}});});}},{key:\"render\",value:function render(){var _this$props2=this.props,id=_this$props2.id,className=_this$props2.className;return/*#__PURE__*/React.createElement(\"dl\",{id:\"\".concat(id,\"-accordion-id\"),className:\"Accordion \".concat(className?className:'')},this.createDiv());}}]);return Accordion;}(Component);export default Accordion;","map":{"version":3,"sources":["/Users/ffaiku/opt/FH/4 Semester/Verteilte Systeme/Project/smart-home-ui/smart-home-ui/src/components/Accordion/Accordion.tsx"],"names":["React","Component","Children","cloneElement","Accordion","state","activeTab","handleAccordionOnClick","index","setState","prev","scrollIntoView","prevProps","name","props","id","children","allowMultipleOpen","onActiveTabChange","map","key","bind","ref","e","className","createDiv"],"mappings":"gyBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,YAArC,KAAuE,OAAvE,C,GAkBMC,CAAAA,S,uUACJC,K,CAAyB,CAAEC,SAAS,CAAE,CAAC,CAAd,C,OAQzBC,sB,CAAyB,SAACC,KAAD,CAAmB,CAC1C,MAAKC,QAAL,CACE,SAACC,IAAD,QAA4B,CAC1BJ,SAAS,CAAEI,IAAI,CAACJ,SAAL,GAAmBE,KAAnB,CAA2B,CAAC,CAA5B,CAAgCA,KADjB,CAA5B,EADF,CAIE,UAAM,CACJ,6BAAqBA,KAArB,GAA8BG,cAA9B,GACD,CANH,EAQD,C,mGAfkBC,S,CAA4B,CAC7C,GAAIA,SAAS,CAACC,IAAV,GAAmB,KAAKC,KAAL,CAAWD,IAAlC,CAAwC,CACtC,KAAKJ,QAAL,CAAc,CAAEH,SAAS,CAAE,CAAC,CAAd,CAAd,EACD,CACF,C,6CAaW,iCACgE,KAAKQ,KADrE,CACFC,EADE,aACFA,EADE,CACEC,QADF,aACEA,QADF,CACYC,iBADZ,aACYA,iBADZ,CAC+BX,SAD/B,aAC+BA,SAD/B,CAC0CY,iBAD1C,aAC0CA,iBAD1C,CAGV,MAAOhB,CAAAA,QAAQ,CAACiB,GAAT,CAAaH,QAAb,CAAuB,SAACA,QAAD,CAAgBR,KAAhB,CAAkC,CAC9D,MAAOL,CAAAA,YAAY,CAACa,QAAD,CAAW,CAC5BR,KAAK,CAALA,KAD4B,CAE5BK,IAAI,CAAEE,EAFsB,CAG5BK,GAAG,CAAEZ,KAHuB,CAI5BF,SAAS,CAAEY,iBAAiB,CAAGZ,SAAH,CAAe,MAAI,CAACD,KAAL,CAAWC,SAJ1B,CAK5BW,iBAAiB,CAAEA,iBALS,CAM5BV,sBAAsB,CAAEW,iBAAiB,EAAI,MAAI,CAACX,sBAAL,CAA4Bc,IAA5B,CAAiC,MAAjC,CAAuCb,KAAvC,CANjB,CAO5Bc,GAAG,CAAE,aAAAC,CAAC,CAAI,CACR,MAAI,wBAAiBf,KAAjB,EAAJ,CAAgCe,CAAhC,CACD,CAT2B,CAAX,CAAnB,CAWD,CAZM,CAAP,CAaD,C,uCAEQ,kBACmB,KAAKT,KADxB,CACCC,EADD,cACCA,EADD,CACKS,SADL,cACKA,SADL,CAGP,mBACE,0BAAI,EAAE,WAAKT,EAAL,iBAAN,CAA8B,SAAS,qBAAeS,SAAS,CAAGA,SAAH,CAAe,EAAvC,CAAvC,EACG,KAAKC,SAAL,EADH,CADF,CAKD,C,uBA9CqBxB,S,EAiDxB,cAAeG,CAAAA,SAAf","sourcesContent":["import React, { Component, Children, cloneElement, ReactElement } from 'react';\nimport { IAccordionItemParentProps } from './AccordionItem/AccordionItem';\n\ninterface IAccordionProps {\n  /** id prop */\n  id: string;\n  className?: string;\n  allowMultipleOpen?: boolean;\n  name?: string;\n  heading?: any;\n  activeTab?: number;\n  onActiveTabChange?: (index: number) => void;\n}\n\nexport interface IAccordionState {\n  activeTab: number;\n}\n\nclass Accordion extends Component<IAccordionProps, IAccordionState> {\n  state: IAccordionState = { activeTab: -1 };\n\n  componentDidUpdate(prevProps: IAccordionProps) {\n    if (prevProps.name !== this.props.name) {\n      this.setState({ activeTab: -1 });\n    }\n  }\n\n  handleAccordionOnClick = (index: number) => {\n    this.setState(\n      (prev: IAccordionState) => ({\n        activeTab: prev.activeTab === index ? -1 : index,\n      }),\n      () => {\n        this[`accordionItem${index}`].scrollIntoView();\n      }\n    );\n  };\n\n  createDiv() {\n    const { id, children, allowMultipleOpen, activeTab, onActiveTabChange } = this.props;\n\n    return Children.map(children, (children: any, index: number) => {\n      return cloneElement(children, {\n        index,\n        name: id,\n        key: index,\n        activeTab: onActiveTabChange ? activeTab : this.state.activeTab,\n        allowMultipleOpen: allowMultipleOpen,\n        handleAccordionOnClick: onActiveTabChange || this.handleAccordionOnClick.bind(this, index),\n        ref: e => {\n          this[`accordionItem${index}`] = e;\n        },\n      });\n    });\n  }\n\n  render() {\n    const { id, className } = this.props;\n\n    return (\n      <dl id={`${id}-accordion-id`} className={`Accordion ${className ? className : ''}`}>\n        {this.createDiv()}\n      </dl>\n    );\n  }\n}\n\nexport default Accordion;\n"]},"metadata":{},"sourceType":"module"}